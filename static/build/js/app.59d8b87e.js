"use strict";(self.webpackChunk_w_vision_rapid_ch=self.webpackChunk_w_vision_rapid_ch||[]).push([[804],{8567:(e,t,i)=>{var a=i(874),s=i(6980),o=i(5439),n=i(4273);const l={data:{clsValidated:"uk-form-validated"},connected(){(0,s.B$)(this.$el,"novalidate")||(0,s.Lj)(this.$el,"novalidate","novalidate"),(0,o.on)(this.$el,"submit",(e=>{!1===this.$el.checkValidity()&&(e.preventDefault(),e.stopPropagation()),(0,n.pv)(this.$el,this.clsValidated)||(0,n.cn)(this.$el,this.clsValidated)})),(0,o.on)(this.$el,"reset",(()=>{(0,n.pv)(this.$el,this.clsValidated)&&(0,n.IV)(this.$el,this.clsValidated)}))},events:{submit(e){!1===this.$el.checkValidity()&&(e.preventDefault(),e.stopPropagation()),(0,n.pv)(this.$el,this.clsValidated)||(0,n.cn)(this.$el,this.clsValidated)},reset(){(0,n.pv)(this.$el,this.clsValidated)&&(0,n.IV)(this.$el,this.clsValidated)}}};var r=i(9435);const d={args:"defaultValue",props:{defaultValue:String,defaultValues:String,search:Boolean,choices:{},clsValid:String,clsInvalid:String,removeItemButton:Boolean,itemSelectText:String,url:String},data:{defaultValue:null,defaultValues:null,search:!1,choices:null,clsValid:"is-valid",clsInvalid:"is-invalid",itemSelectText:"Auswählen",removeItemButton:!1,url:null},connected(){i.e(855).then(i.t.bind(i,4529,23)).then((e=>{let{default:t}=e;if("active"!==(0,s.aT)(this.$el,"choice")){let e=!1;this.$el.disabled&&((0,s.uV)(this.$el,"disabled"),e=!0),this.choices=new t(this.$el,{searchEnabled:this.search,shouldSort:!1,maxItemCount:-1,removeItemButton:this.removeItemButton,value:this.value,loadingText:"Laden ...",group:"choices__group",groupHeading:"choices__heading",noResultsText:"Keine Resultate gefunden",noChoicesText:"Keine Auswahlmöglichkeiten",itemSelectText:this.itemSelectText});new MutationObserver((e=>{e.forEach((e=>{let{attributeName:t,type:i}=e;"attributes"===i&&"disabled"===t&&this.changeState((0,s.B$)(this.$el,"disabled"))}))})).observe(this.$el,{attributes:!0}),this.changeState(e),this.url&&this.choices.ajax((t=>{fetch(this.url).then((i=>{i.json().then((i=>{t(i,"value","label"),this.changeState(e),this.defaultValue&&this.setChoiceByValue(this.defaultValue)}))}))})),this.defaultValue&&this.setChoiceByValue(this.defaultValue);const i=JSON.parse(this.defaultValues);i&&i.forEach((e=>{console.log(e),this.setChoiceByValue(e)}))}}))},methods:{checkValidity(){const e=this.choices.containerOuter.element;!1===this.choices.passedElement.element.checkValidity()?((0,n.pv)(e,this.clsValid)&&(0,n.IV)(e,this.clsValid),(0,n.pv)(e,this.clsInvalid)||(0,n.cn)(e,this.clsInvalid)):((0,n.pv)(e,this.clsInvalid)&&(0,n.IV)(e,this.clsInvalid),(0,n.pv)(e,this.clsValid)||(0,n.cn)(e,this.clsValid))},changeState(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.choices.disable():this.choices.enable()},setChoiceByValue(e){let t=null;try{t=JSON.parse(e)}catch{t=e}(0,r.hj)(t)&&(t=t.toString()),this.choices.getValue(!0)!==t&&this.choices.setChoiceByValue(t)}},events:[{name:"submit",el(){return this.choices?this.choices.passedElement.element.form:this.$el},handler(){this.checkValidity()}},{name:"change",self:!0,handler(){this.checkValidity()}}]};var c=i(2717),h=i(9228),p=i(6158),u=i.n(p),g=i(6089);const m={args:"apiKey",props:{apiKey:String,image:String,location:Object,locations:Object,popup:Boolean,style:String,styleLink:String,zoom:Number},data:{apiKey:"",image:"",location:{},locations:{},popup:!0,style:"streets-v11",styleLink:"mapbox://styles/mapbox/",zoom:12},connected(){this.apiKey&&this.initialize()},methods:{initialize(){const e={container:this.$el,zoom:this.zoom,style:`${this.styleLink+this.style}`};u().accessToken=this.apiKey,this.map=new(u().Map)(e),this.map.on("load",(()=>{this.addSource("geojson"),this.addLayer("place","geojson"),this.setCenter(),this.popup&&this.map.on("click","place",(e=>{const t=this.map.queryRenderedFeatures(e.point,{layers:["place"]});t.length&&this.createPopUp(t[0])}))}))},createPopUp(e){const t=(0,g.$$)(".mapboxgl-popup");t[0]&&t[0].remove(),new(u().Popup)({closeOnClick:!1}).setLngLat(e.geometry.coordinates).setHTML(e.properties.description).addTo(this.map)},addSource(e){this.map.addSource(e,{type:"geojson",data:this.locations})},addLayer(e,t){this.map.loadImage(this.image,((i,a)=>{this.map.addImage("icon",a),this.map.addLayer({id:e,source:t,sourceLayer:"layer",type:"symbol",layout:{"icon-allow-overlap":!0,"icon-image":"icon","icon-anchor":"bottom","text-justify":"center","icon-size":.15}})}))},setCenter(){if(this.map.getSource("geojson")._data.features.length){const e=this.map.getSource("geojson")._data.features[0].geometry.coordinates;this.map.setCenter(e)}}}},y={data:{listing:""},props:{listing:String},connected(){this.listing=(0,g.$)(this.listing)},methods:{loadParticipants(){const e=document.createElement("li");e.innerHTML=this.listing.dataset.prototype.replace(/__name__/g,this.listing.dataset.index);const t=parseInt(this.listing.dataset.index,10);this.listing.appendChild(e),this.listing.dataset.index=String(t+1)}},events:[{name:"click",el(){return(0,g.$)(".uk-button",this.$el)},handler(){this.loadParticipants()}}]};Promise.all([]).then((()=>{i.g.UIkit=a.Z,a.Z.component("validator",l),a.Z.component("choice",d),a.Z.component("mapbox",c.Z),a.Z.component("download",h.Z),a.Z.component("map",m),a.Z.component("participants-loader",y)}))},874:(e,t,i)=>{i.d(t,{Z:()=>H});var a={};i.r(a),i.d(a,{Accordion:()=>c.Z,Alert:()=>h.Z,Close:()=>$.x8,Cover:()=>p.Z,Drop:()=>u.Z,Dropdown:()=>u.Z,FormCustom:()=>g.Z,Grid:()=>m.Z,HeightMatch:()=>y.Z,HeightViewport:()=>v.Z,Icon:()=>$.ZP,Img:()=>Z.Z,Leader:()=>b.Z,Margin:()=>S.Z,Marker:()=>$.oJ,Modal:()=>f.Z,Nav:()=>V.Z,Navbar:()=>w.Z,NavbarToggleIcon:()=>$.oJ,Offcanvas:()=>k.Z,OverflowAuto:()=>I.Z,OverlayIcon:()=>$.oJ,PaginationNext:()=>$.oJ,PaginationPrevious:()=>$.oJ,Responsive:()=>T.Z,Scroll:()=>x.Z,Scrollspy:()=>L.Z,ScrollspyNav:()=>_.Z,SearchIcon:()=>$.ol,SlidenavNext:()=>$.fY,SlidenavPrevious:()=>$.fY,Spinner:()=>$.$j,Sticky:()=>j.Z,Svg:()=>C.Z,Switcher:()=>N.Z,Tab:()=>P.Z,Toggle:()=>B.Z,Totop:()=>$.oJ,Video:()=>O.Z});var s={};i.r(s),i.d(s,{Countdown:()=>F.Z,Filter:()=>D.Z,Lightbox:()=>z.Z,LightboxPanel:()=>K.Z,Notification:()=>E.Z,Slider:()=>J.Z,Slideshow:()=>M.Z,Tooltip:()=>A.Z});var o=i(9645),n=i(5250),l=i(9435),r=i(3313),d=i.n(r),c=i(3503),h=i(5039),p=i(8938),u=i(8126),g=i(4904),m=i(2114),y=i(3937),v=i(471),$=i(757),Z=i(1496),b=i(5522),S=i(7668),f=i(8147),V=i(2071),w=i(9012),k=i(7631),I=i(6171),T=i(2084),x=i(3846),L=i(6303),_=i(900),j=i(4217),C=i(9133),N=i(1576),P=i(3548),B=i(3697),O=i(2496),F=i(9535),D=i(5629),z=i(9375),K=i(7045),E=i(8389),J=i(1004),M=i(6448),A=i(3568);(0,l.S6)(a,((e,t)=>o.Z.component(t,e))),(0,n.Z)(o.Z),o.Z.version="3.16.26",(0,l.S6)(s,((e,t)=>o.Z.component(t,e))),o.Z.use(d());const H=o.Z},9228:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(9669),s=i.n(a),o=i(6089),n=i(6980),l=i(4273),r=i(538);r.ZP.create=e=>new r.ZP(e);const d=r.ZP;var c=i(4416);const h={props:{language:String,rootFolder:Number,descending:Number},data:{language:"de_CH",rootFolder:0,descending:0,elementScrollTo:null},connected(){if(this.$el.__vue__)return;this.trigger=(0,o.$)(".tm-downloads__link");const e=new d({el:this.$el,delimiters:["${","}"],data:{items:[],image:!1,breadcrumb:[],title:""},methods:{async reloadData(e){await s().get(e).then((e=>{this.items=e.data.items,this.image=e.data.image,this.title=e.data.title,this.breadcrumb=e.data.breadcrumb}))}}});(0,c.Z)(e.reloadData(`/${this.language}/ajax/downloads?id=${this.rootFolder}&startFolder=${this.rootFolder}&descending=${this.descending}`)),document.addEventListener("mouseup",(t=>{const i=parseInt((0,n.aT)(t.target,"root-folder"),10);(0,l.pv)(t.target,"tm-downloads__link")&&i===this.rootFolder&&(0,c.Z)(e.reloadData(`/${this.language}/ajax/downloads?id=${(0,n.aT)(t.target,"load-files")}&startFolder=${this.rootFolder}&descending=${this.descending}`))})),window.addEventListener("popstate",(()=>{window.onhashchange=()=>{const t=window.location.hash.substr(1);t&&(0,c.Z)(e.reloadData(`/${this.language}/ajax/downloads?id=${t}&startFolder=${this.rootFolder}&descending=${this.descending}`))}}))}}},2717:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(6158),s=i.n(a),o=i(9651),n=i.n(o),l=i(6089),r=i(5439),d=i(4416);const c={args:"apiKey",props:{apiKey:String,image:String,lat:Number,lon:Number,mapIcons:Array,filter:Boolean,locations:Object,style:String,styleLink:String,zoom:Number,radius:Number,dealerType:Number,groups:String,popup:Boolean,url:String},data:{apiKey:"",lat:46.799023,lon:8.231654,image:"",mapIcons:{},filter:!1,locations:{},points:64,popup:!1,radius:2e4,dealerType:0,style:"streets-v11",styleLink:"mapbox://styles/mapbox/",groups:"",zoom:7,url:""},connected(){const e=(0,l.$)("#map"),t=(0,l.$)("#radius"),i=(0,l.$)("#dealer-type");this.lon,this.lat;if(console.log(JSON.parse(this.mapIcons)),s().accessToken=this.apiKey,this.map=new(s().Map)({container:e,center:{lon:this.lon,lat:this.lat},style:this.styleLink+this.style,zoom:this.zoom}),this.map.addControl(new(s().FullscreenControl)),this.map.on("load",(()=>{if(0!==Object.keys(this.mapIcons).length){JSON.parse(this.mapIcons).forEach((e=>{console.log(e),this.map.loadImage(e.url,((t,i)=>{this.map.addImage(e.id,i)}))}))}this.map.addSource("geojson",{type:"geojson",data:`${this.url}?groups=${this.groups}`}),this.map.loadImage(this.image,((e,t)=>{this.map.addImage("map-icon",t),this.map.addLayer({id:"dealers",type:"symbol",source:"geojson",sourceLayer:"layer",layout:{"icon-allow-overlap":!0,"icon-image":["get","icon"],"icon-size":.14}})})),this.map.on("click","dealers",(e=>{const t=this.map.queryRenderedFeatures(e.point,{layers:["dealers"]});if(t.length){const e=t[0];this.createPopUp(e)}})),(0,r.on)(i,"change",(0,d.Z)((()=>{this.dealerType=i.value,this.filterData(this.lon,this.lat)}))),(0,r.on)(t,"keyup",(0,d.Z)((()=>{this.radius=t.value,this.filterData(this.lon,this.lat)})))})),this.filter){this.$geocoder=(0,l.$)("#geocoder");const e=new(n())({accessToken:s().accessToken,mapboxgl:s()});e.on("result",(e=>{this.lat=e.result.geometry.coordinates[1],this.lon=e.result.geometry.coordinates[0],this.radius=t.value,this.filterData(this.lon,this.lat)})),this.$geocoder.appendChild(e.onAdd(this.map))}},methods:{filterData(e,t){console.log(`${this.url}?lat=${t}&lon=${e}&radius=${this.radius}&dealer=${this.dealerType}&groups=${this.groups}`);fetch(`${this.url}?lat=${t}&lon=${e}&radius=${this.radius}&dealer=${this.dealerType}&groups=${this.groups}`).then((e=>e.json())).then((e=>{this.map.getSource("geojson").setData(e);const t=new(s().LngLatBounds);e.features.forEach((e=>{t.extend(e.geometry.coordinates)})),this.map.fitBounds(t,{padding:50})}))},createPopUp(e){const t=(0,l.$$)(".mapboxgl-popup");t[0]&&t[0].remove();new(s().Popup)({closeOnClick:!1}).setLngLat(e.geometry.coordinates).setHTML(e.properties.description).addTo(this.map)}}}},4416:(e,t,i)=>{function a(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{t=null,e(...s)}),i)}}i.d(t,{Z:()=>a})}},e=>{e.O(0,[135],(()=>{return t=8567,e(e.s=t);var t}));e.O()}]);